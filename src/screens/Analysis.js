import React, { useEffect, useState } from 'react';
import Zoom from 'react-reveal/Zoom';
import { useHistory } from 'react-router-dom';
import GridLoader from 'react-spinners/GridLoader';
import axios from 'axios';
import ".././styles/button.css"
import map from "./kisspng-states-and-territories-of-india-map-geography-indian-5abbdaf71de704.4934896215222607271225.png"
// import NormalFeatures from '../components/TabComponent/NormalFeatures'
// import AdvancedFeatures from '../components/TabComponent/AdvancedFeatures'
// import Doctor from './doctor.png' 
// import Patient from './patient.png'
// import {AiOutlineArrowLeft} from 'react-icons/ai' 
const Gasses = ({ station, aqires, res, gasRise }) => {
  // gasRise=JSON.parse(gasRise)
  let gr=Object.values(gasRise)
  console.log(gr)
  console.log(station)
  const {
    CO,
    NO2,
    OZONE,
    PM10,
    PM25,
    SO2,
    city,
    countryCode,
    division,
    lat,
    lng,
    placeName,
    postalCode,
    state,
    updatedAt,
    AQI,
    aqiInfo,
  } = station[0];
  return (
    <div className='flex flex-col z-50 text-black'>
      <ul className='flex flex-col w-full pt-8'>
        <div className='flex justify-center'>
          <li style={{ boxShadow: '1px 1px 10px white', height: '28vh', width: '28vh' }} className={`rounded-xl poppins p-4 m-2 ${gr[0]==1?'bg-green-400':gr[0]==2?'bg-yellow-400':gr[0]==3?'bg-red-400':'bg-white'}`}>
            <div className='flex flex-col gap-4 mx-auto items-center justify-center'>
              <svg xmlns="http://www.w3.org/2000/svg" height="100px" width="100px" id="Layer_1" data-name="Layer 1" viewBox="0 0 122.88 79.12"><title>co2</title><path d="M71.71,10.39A31.68,31.68,0,0,0,55,7.49a30.16,30.16,0,0,0-15.62,6.1A29.31,29.31,0,0,0,28.67,31.73l-.48,2.51-2.5.44a34.43,34.43,0,0,0-6.56,1.77,21.94,21.94,0,0,0-5,2.66,16.49,16.49,0,0,0-3,2.8A17,17,0,0,0,7.33,53a20.07,20.07,0,0,0,3.79,11.53,18.84,18.84,0,0,0,3.16,3.4,15.86,15.86,0,0,0,4.13,2.48,20.84,20.84,0,0,0,5.09,1.34H96.05a36.67,36.67,0,0,0,9.3-3.48,20,20,0,0,0,6.39-5.41c2.5-3.33,3.73-8,3.78-12.87a25.47,25.47,0,0,0-3.59-13.86,20.75,20.75,0,0,0-2.25-2.89,17.35,17.35,0,0,0-13-5.62,24.16,24.16,0,0,0-7.57,1.22C84,21.62,80.22,14.48,71.71,10.39ZM41.34,44.21a4.31,4.31,0,0,0-3.77,2,9.5,9.5,0,0,0-1.36,5.46q0,7.23,5.51,7.23a11.19,11.19,0,0,0,3.22-.46c1-.31,2.09-.68,3.14-1.11V63A17.33,17.33,0,0,1,41,64.43q-5.67,0-8.7-3.29t-3-9.52a15.17,15.17,0,0,1,1.46-6.84,10.51,10.51,0,0,1,4.22-4.53,12.69,12.69,0,0,1,6.47-1.59,17.9,17.9,0,0,1,7.76,1.76L47.1,45.75a22.2,22.2,0,0,0-2.78-1.09,9.59,9.59,0,0,0-3-.45Zm33.71,7.31q0,6.33-3.1,9.62t-9.09,3.29q-5.89,0-9-3.31t-3.14-9.63q0-6.26,3.13-9.56t9.1-3.3q6,0,9.07,3.28t3.08,9.61Zm-17.24,0q0,7.27,5,7.27A4.35,4.35,0,0,0,66.68,57q1.25-1.75,1.24-5.5T66.66,46a4.29,4.29,0,0,0-3.76-1.79q-5.1,0-5.09,7.33ZM94.73,64.08H76.54V59.63l6.12-6.19q2.63-2.74,3.43-3.75A7.79,7.79,0,0,0,87.21,48a3.76,3.76,0,0,0,.32-1.51,2,2,0,0,0-.63-1.54,2.6,2.6,0,0,0-1.79-.57,4.89,4.89,0,0,0-2.39.68A17.53,17.53,0,0,0,80,47l-3.72-4.35a19.32,19.32,0,0,1,3.26-2.47,11.25,11.25,0,0,1,2.86-1.14,13.92,13.92,0,0,1,3.5-.4,10.51,10.51,0,0,1,4.34.86,6.76,6.76,0,0,1,3,2.44,6.24,6.24,0,0,1,1.06,3.56,9.77,9.77,0,0,1-.37,2.72,10,10,0,0,1-1.14,2.47,17,17,0,0,1-2,2.54q-1.27,1.35-5.44,5.08v.17h9.48v5.58ZM92,20.65a28.7,28.7,0,0,1,4.79-.36,24.55,24.55,0,0,1,18.3,8,29.19,29.19,0,0,1,3,3.9,33,33,0,0,1,4.77,17.92c-.07,6.31-1.77,12.59-5.25,17.21A27.45,27.45,0,0,1,109,74.69,44.43,44.43,0,0,1,97.28,79l-.82.1H23.38l-.46,0a28.33,28.33,0,0,1-7.29-1.88,23.17,23.17,0,0,1-6.05-3.63,25.82,25.82,0,0,1-4.4-4.72A27.44,27.44,0,0,1,0,53,24.29,24.29,0,0,1,5.52,37.18a23.62,23.62,0,0,1,4.34-4,29.26,29.26,0,0,1,6.64-3.55A40.17,40.17,0,0,1,22,27.91,36.16,36.16,0,0,1,34.92,7.77,37.54,37.54,0,0,1,54.34.18a38.94,38.94,0,0,1,20.55,3.6A36.9,36.9,0,0,1,92,20.65Z" /></svg>
              CO: {CO}
            </div>
          </li>
          <li style={{ boxShadow: '1px 1px 10px white', height: '28vh', width: '28vh' }} className={`rounded-xl poppins p-4 m-2 ${gr[1]==1?'bg-green-400':gr[1]==2?'bg-yellow-400':gr[1]==3?'bg-red-400':'bg-white'}}`}>
            <div className='flex flex-col gap-4 mx-auto items-center justify-center'>
              <svg xmlns="http://www.w3.org/2000/svg" height="100px" width="100px" viewBox="0 0 1024 1024" version="1.1"><path d="M746.666667 896h-469.333334C123.733333 896 0 772.266667 0 618.666667c0-128 85.333333-238.933333 209.066667-268.8C247.466667 217.6 371.2 128 512 128s264.533333 89.6 302.933333 221.866667c123.733333 29.866667 209.066667 140.8 209.066667 268.8 0 153.6-123.733333 277.333333-277.333333 277.333333zM512 213.333333C401.066667 213.333333 307.2 290.133333 281.6 396.8c-4.266667 17.066667-17.066667 29.866667-34.133333 34.133333-93.866667 12.8-162.133333 93.866667-162.133334 187.733334C85.333333 725.333333 170.666667 810.666667 277.333333 810.666667h469.333334c106.666667 0 192-85.333333 192-192 0-93.866667-68.266667-174.933333-162.133334-187.733334-17.066667-4.266667-29.866667-17.066667-34.133333-34.133333C716.8 290.133333 622.933333 213.333333 512 213.333333z" /><path d="M819.2 738.133333h-89.6c-8.533333 0-17.066667-4.266667-21.333333-12.8-4.266667-8.533333 0-17.066667 8.533333-25.6l64-51.2c4.266667-4.266667 4.266667-4.266667 4.266667-8.533333s0-4.266667-4.266667-8.533333-8.533333-4.266667-12.8 0l-12.8 12.8c-8.533333 8.533333-21.333333 4.266667-29.866667-4.266667-8.533333-8.533333-4.266667-21.333333 4.266667-29.866667l12.8-12.8c21.333333-17.066667 51.2-17.066667 72.533333 4.266667 8.533333 8.533333 17.066667 25.6 17.066667 38.4s-8.533333 29.866667-21.333333 38.4l-17.066667 12.8h29.866667c12.8 0 21.333333 8.533333 21.333333 21.333333s-12.8 25.6-25.6 25.6zM584.533333 738.133333c-59.733333 0-110.933333-51.2-110.933333-110.933333v-46.933333c0-59.733333 51.2-110.933333 110.933333-110.933334s110.933333 51.2 110.933334 110.933334v46.933333c0 59.733333-46.933333 110.933333-110.933334 110.933333z m0-204.8c-25.6 0-46.933333 21.333333-46.933333 46.933334v46.933333c0 25.6 21.333333 46.933333 46.933333 46.933333s46.933333-21.333333 46.933334-46.933333v-46.933333c0-25.6-21.333333-46.933333-46.933334-46.933334zM422.4 738.133333c-8.533333 0-17.066667-4.266667-25.6-12.8l-106.666667-132.266666v110.933333c0 17.066667-12.8 34.133333-34.133333 34.133333s-34.133333-12.8-34.133333-34.133333v-204.8c0-12.8 8.533333-25.6 21.333333-29.866667 12.8-4.266667 25.6 0 34.133333 8.533334L384 610.133333v-110.933333c0-17.066667 12.8-34.133333 34.133333-34.133333s34.133333 12.8 34.133334 34.133333v204.8c0 12.8-8.533333 25.6-21.333334 29.866667 0 4.266667-4.266667 4.266667-8.533333 4.266666z" /></svg>
              NO2: {NO2}
            </div>
          </li>
          <li style={{ boxShadow: '1px 1px 10px white', height: '28vh', width: '28vh' }} className={`rounded-xl poppins p-4 m-2 ${gr[2]==1?'bg-green-400':gr[2]==2?'bg-yellow-400':gr[2]==3?'bg-red-400':'bg-white'}}`}>
            <div className='flex flex-col gap-4 mx-auto items-center justify-center'>
              <svg xmlns="http://www.w3.org/2000/svg" height="100px" width="100px" viewBox="0 0 1025 1024" version="1.1"><path d="M425.150097 509.514245c-23.52765 0-60.782237-5.038056-92.456161-31.858205-26.52837-22.463936-29.235263-48.148705-26.834482-65.740438 2.470398-18.095436 10.77024-30.92144 11.708029-32.324029l25.531202 17.073697 0.060403-0.090093c-2.127429 3.284309-19.942348 32.809304 9.384032 57.642282 38.590629 32.677235 89.609009 23.415034 90.119879 23.31675 8.328508-1.587894 16.372403 3.878105 17.960296 12.209684 1.588918 8.331579-3.878105 16.372403-12.209684 17.96132C447.446131 507.888471 438.509494 509.514245 425.150097 509.514245z" /><path d="M713.534529 242.059092c-5.018604-0.620415-8.571145-5.499784-8.274247-10.954521 0.13514-2.474493 0.205781-4.964343 0.205781-7.470574 0-84.846352-73.9594-153.629485-165.192136-153.629485-2.731464 0-5.4445 0.068594-8.143202 0.191448-1.00024-0.119783-1.990242-0.180187-2.968982-0.180187-2.05986 0-4.071601 0.267208-6.032153 0.810839-83.177579 7.977349-148.048822 73.345128-148.048822 152.807384 0 7.914898 0.663414 15.68237 1.917553 23.27068 0.91117 5.516165-2.330139 10.887975-7.416313 11.95169-95.737399 20.030394-165.869883 84.790044-165.869883 161.637547 0 92.825748 102.29885 168.078192 228.490842 168.078192 0.048118 0 0.096236 0 0.145378 0l0.006143 0c6.856302 0 11.523747 7.410171 8.964279 14.292067-67.127669 180.512085-197.332907 280.077424-293.176779 331.465391-9.479244 5.082079-5.294003 19.665925 3.994817 19.665925 0.898885 0 1.845888-0.136164 2.832819-0.432038 136.307008-40.745701 240.272583-103.300114 319.39187-172.669877 4.833299-4.237455 9.56729-8.502551 14.212212-12.789148 4.770848-4.403308 6.799994-11.084542 5.177291-17.370595-3.688705-14.291043-5.599091-29.234239-5.599091-44.491738 0-0.935741 0.00819-1.869435 0.023547-2.802105 0.040951-2.452994-2.951578-3.662086-4.657207-1.898101-13.70339 14.167165-28.004671 27.79889-42.903844 40.861389-8.067442 7.073345-16.29869 13.969574-24.701934 20.695855 28.168477-41.306736 53.350567-88.518676 73.38608-142.393422 7.111225-19.123318 4.432998-40.504087-7.166509-57.193864-11.372227-16.362165-29.98058-26.131141-49.782669-26.131141l-0.145378 0c-25.683746 0-50.490106-3.666181-73.731096-10.897189-21.764689-6.772351-41.112217-16.319166-57.504071-28.37733-17.204741-12.656056-46.066322-39.567322-46.066322-77.61432 0-29.074528 17.011246-51.495465 31.28079-65.184522 22.959448-22.024731 56.301121-38.485179 93.881273-46.347864 32.016892-6.697615 52.855054-37.621103 47.439221-70.40174-0.818006-4.951034-1.23264-9.97271-1.23264-14.925791 0-24.815574 10.043351-48.773215 28.279046-67.458353 18.988178-19.456049 45.079391-31.670852 73.467983-34.393102l3.094908-0.573321 3.33857 0.122854c2.024027-0.092141 3.983555-0.138211 5.823301-0.138211 62.861549 0 114.002783 45.954729 114.002783 102.440132 0 1.525443-0.042999 3.100027-0.130021 4.683826-1.760914 32.294339 21.567098 60.646074 53.108953 64.543631 42.963224 5.310383 72.872139 14.833651 91.434422 29.114456 12.549582 9.655336 26.955289 26.006239 26.955289 67.087742 0 19.681282-3.276119 36.109993-9.736215 48.8285-5.368739 10.569578-13.178187 19.074177-23.87369 26.000096-23.494889 15.214499-60.411626 22.928735-109.726425 22.928735-4.090029 0-8.338746-0.138211-12.642746-0.412586-1.269496-0.080879-2.556396-0.121831-3.824868-0.121831-23.079232 0-43.866204 12.932478-54.249452 33.753235-2.948507 5.913394-5.969702 11.774575-9.061539 17.58559-2.685393 5.04727 1.652392 10.923808 7.281174 9.924592 7.611857-1.351399 15.379329-2.042455 23.250204-2.042455 5.832515 0 11.607698 0.379825 17.30712 1.124118 2.889127 0.377777 5.70966-1.096476 7.00987-3.704062 0.007167-0.014333 0.015357-0.02969 0.022523-0.044023 1.687201-3.382592 4.920321-5.405596 8.4401-5.405596 0.19452 0 0.390063 0.006143 0.58663 0.018428 5.237695 0.333755 10.531697 0.514965 15.882009 0.514965 107.434166 0 194.525683-33.420505 194.525683-148.947707C876.834706 286.535473 806.11764 253.500936 713.534529 242.059092z" /><path d="M831.374466 715.798122c8.206677 6.694544 12.311039 15.8472 12.311039 27.464111 0 14.773247-7.514597 24.622079-22.539696 29.546494 8.206677 2.52773 14.329947 6.187769 18.371859 10.985235 4.545615 5.051365 6.818422 11.618959 6.818422 19.697663 0 12.50044-4.356214 22.728073-13.069666 30.683922-9.218179 8.209748-21.150417 12.311039-35.797738 12.311039-14.014621 0-25.31723-3.598611-33.902708-10.795834-9.47003-7.954825-14.774271-19.570713-15.909651-34.850735l22.539696 0c0.377777 8.840401 3.154288 15.596372 8.333627 20.265865 4.797466 4.421736 11.047686 6.630045 18.75066 6.630045 8.458529 0 15.214499-2.397709 20.266888-7.197223 4.417641-4.418665 6.629021-9.784333 6.629021-16.100075 0-7.699902-2.337306-13.381921-7.007822-17.046054-4.421736-3.661062-11.050757-5.492618-19.888087-5.492618l-9.47003 0 0-16.667253 9.47003 0c7.955849 0 14.015645-1.704605 18.183482-5.113816 4.03884-3.409211 6.060819-8.458529 6.060819-15.152048 0-6.564523-1.831555-11.554461-5.492618-14.963672-3.914962-3.409211-9.787404-5.113816-17.614256-5.113816-7.955849 0-14.081167 1.959528-18.371859 5.871419-4.545615 3.914962-7.197223 9.976805-7.955849 18.182458l-21.78107 0c1.136404-13.760722 6.184698-24.368179 15.152048-31.820325 8.33465-7.449075 19.255387-11.174636 32.767328-11.174636C812.117032 705.949291 823.164718 709.233599 831.374466 715.798122z" /><path d="M625.838977 844.857742c-31.644234 0-61.196871-14.896102-83.216483-41.944556-21.269176-26.128069-32.983347-60.679859-32.983347-97.290484s11.713148-71.162414 32.983347-97.290484c22.019612-27.048454 51.572249-41.944556 83.216483-41.944556 31.64321 0 61.196871 14.896102 83.215459 41.944556 21.2702 26.128069 32.984371 60.679859 32.984371 97.290484s-11.713148 71.16139-32.984371 97.290484C687.035849 829.96164 657.482188 844.857742 625.838977 844.857742zM625.838977 597.101275c-47.137203 0-85.486219 48.682098-85.486219 108.521428s38.349015 108.521428 85.486219 108.521428 85.486219-48.682098 85.486219-108.521428S672.976181 597.101275 625.838977 597.101275z" /></svg>
              OZONE: {OZONE}
            </div>
          </li>
        </div>
        <div className='flex justify-center'>
          <li style={{ boxShadow: '1px 1px 10px white', height: '28vh', width: '28vh' }} className={`rounded-xl poppins p-4 m-2 ${gr[3]==1?'bg-green-400':gr[3]==2?'bg-yellow-400':gr[3]==3?'bg-red-400':'bg-white'}}`}>
            <div className='flex flex-col gap-4 mx-auto items-center justify-center'>
              <svg xmlns="http://www.w3.org/2000/svg" height="100px" width="100px" viewBox="0 0 1031 1024" version="1.1"><path d="M960 567.466667s-102.4 64-226.133333 64c-59.733333 0-115.2-21.333333-179.2-46.933334-64-25.6-140.8-55.466667-230.4-59.733333-183.466667-12.8-298.666667 89.6-302.933334 93.866667-17.066667 17.066667-17.066667 42.666667-4.266666 59.733333 17.066667 17.066667 42.666667 17.066667 59.733333 4.266667 0 0 93.866667-81.066667 243.2-72.533334 76.8 4.266667 145.066667 29.866667 204.8 55.466667 68.266667 25.6 136.533333 51.2 213.333333 51.2 149.333333 0 268.8-72.533333 273.066667-76.8 21.333333-12.8 25.6-38.4 12.8-59.733333-17.066667-17.066667-46.933333-25.6-64-12.8zM247.466667 482.133333c59.733333 0 106.666667-46.933333 106.666666-106.666666S307.2 268.8 247.466667 268.8 140.8 315.733333 140.8 375.466667s46.933333 106.666667 106.666667 106.666666z m0-149.333333c25.6 0 42.666667 17.066667 42.666666 42.666667s-17.066667 42.666667-42.666666 42.666666-42.666667-17.066667-42.666667-42.666666 21.333333-42.666667 42.666667-42.666667zM72.533333 290.133333c42.666667 0 76.8-34.133333 76.8-76.8s-34.133333-72.533333-76.8-72.533333C34.133333 140.8 0 174.933333 0 213.333333c0 42.666667 34.133333 76.8 72.533333 76.8z m0-106.666666c17.066667 0 34.133333 12.8 34.133334 29.866666 0 17.066667-12.8 34.133333-34.133334 34.133334-17.066667 0-29.866667-17.066667-29.866666-34.133334s12.8-29.866667 29.866666-29.866666zM375.466667 226.133333c51.2 0 89.6-42.666667 89.6-93.866666S426.666667 42.666667 375.466667 42.666667 285.866667 85.333333 285.866667 132.266667s38.4 93.866667 89.6 93.866666z m0-119.466666c17.066667 0 25.6 12.8 25.6 25.6s-8.533333 29.866667-25.6 29.866666-25.6-12.8-25.6-29.866666 12.8-25.6 25.6-25.6zM546.133333 473.6c42.666667 0 76.8-34.133333 76.8-76.8s-34.133333-76.8-76.8-76.8-72.533333 34.133333-72.533333 76.8 29.866667 76.8 72.533333 76.8z m0-106.666667c17.066667 0 34.133333 12.8 34.133334 34.133334s-12.8 34.133333-34.133334 34.133333c-17.066667 0-29.866667-12.8-29.866666-34.133333s12.8-34.133333 29.866666-34.133334zM699.733333 290.133333c51.2 0 93.866667-42.666667 93.866667-93.866666s-42.666667-93.866667-93.866667-93.866667-98.133333 42.666667-98.133333 93.866667 46.933333 93.866667 98.133333 93.866666z m0-128c17.066667 0 34.133333 12.8 34.133334 34.133334s-12.8 34.133333-34.133334 34.133333c-17.066667 0-34.133333-12.8-34.133333-34.133333s17.066667-34.133333 34.133333-34.133334z" /><path d="M682.666667 490.666667c0 51.2 42.666667 93.866667 98.133333 93.866666s93.866667-42.666667 93.866667-93.866666-42.666667-93.866667-93.866667-93.866667-98.133333 38.4-98.133333 93.866667z m128 0c0 17.066667-12.8 34.133333-34.133334 34.133333s-34.133333-12.8-34.133333-34.133333 12.8-34.133333 34.133333-34.133334 34.133333 17.066667 34.133334 34.133334zM960 337.066667c34.133333 0 64-29.866667 64-64s-29.866667-64-64-64-64 29.866667-64 64 29.866667 64 64 64z m0-85.333334c12.8 0 21.333333 8.533333 21.333333 21.333334s-8.533333 21.333333-21.333333 21.333333-21.333333-8.533333-21.333333-21.333333 8.533333-21.333333 21.333333-21.333334zM209.066667 725.333333H136.533333c-17.066667 0-34.133333 12.8-34.133333 34.133334v192c0 17.066667 12.8 34.133333 34.133333 34.133333s34.133333-12.8 34.133334-34.133333V896h42.666666c46.933333 0 85.333333-38.4 85.333334-85.333333s-42.666667-85.333333-89.6-85.333334z m0 102.4h-42.666667v-38.4h42.666667c12.8 0 21.333333 8.533333 21.333333 21.333334s-8.533333 17.066667-21.333333 17.066666zM512 725.333333c-12.8-4.266667-25.6 4.266667-34.133333 17.066667l-42.666667 89.6-42.666667-89.6c-4.266667-12.8-17.066667-17.066667-29.866666-17.066667-12.8 0-25.6 12.8-25.6 25.6L298.666667 942.933333c-4.266667 17.066667 8.533333 34.133333 25.6 38.4 17.066667 4.266667 34.133333-8.533333 38.4-25.6l17.066666-93.866666 29.866667 59.733333c8.533333 21.333333 46.933333 21.333333 59.733333 0l29.866667-59.733333 17.066667 93.866666c4.266667 17.066667 17.066667 25.6 29.866666 25.6h4.266667c17.066667-4.266667 29.866667-21.333333 25.6-38.4l-34.133333-192c-4.266667-12.8-17.066667-21.333333-29.866667-25.6zM836.266667 725.333333c-46.933333 0-85.333333 38.4-85.333334 85.333334v85.333333c0 46.933333 38.4 85.333333 85.333334 85.333333s85.333333-38.4 85.333333-85.333333v-85.333333c0-46.933333-38.4-85.333333-85.333333-85.333334z m21.333333 170.666667c0 12.8-8.533333 21.333333-21.333333 21.333333s-21.333333-8.533333-21.333334-21.333333v-85.333333c0-12.8 8.533333-21.333333 21.333334-21.333334s21.333333 8.533333 21.333333 21.333334v85.333333zM699.733333 729.6c-12.8-4.266667-25.6-4.266667-34.133333 4.266667l-64 59.733333c-12.8 12.8-12.8 34.133333 0 46.933333 12.8 12.8 34.133333 12.8 46.933333 0l8.533334-8.533333v119.466667c0 17.066667 12.8 34.133333 34.133333 34.133333 17.066667 0 34.133333-12.8 34.133333-34.133333v-192c-8.533333-12.8-17.066667-25.6-25.6-29.866667z" /></svg>
              PM10: {PM10}
            </div>
          </li>
          <li style={{ boxShadow: '1px 1px 10px white', height: '28vh', width: '28vh' }} className={`rounded-xl poppins p-4 m-2 ${gr[4]==1?'bg-green-400':gr[4]==2?'bg-yellow-400':gr[4]==3?'bg-red-400':'bg-white'}}`}>
            <div className='flex flex-col gap-4 mx-auto items-center justify-center'>
              <svg xmlns="http://www.w3.org/2000/svg" height="100px" width="100px" viewBox="0 0 1024 1024" version="1.1"><path d="M75.434667 577.194667c-21.560889 0-39.111111 16.711111-39.111111 37.304889 0 20.579556 17.550222 37.319111 39.111111 37.319111 21.589333 0 39.139556-16.739556 39.139555-37.319111 0-20.593778-17.550222-37.304889-39.139555-37.304889z m148.679111-59.733334c-17.251556 0-31.288889 13.397333-31.288889 29.880889 0 16.426667 13.980444 29.767111 31.288889 29.852445 17.28 0 31.331556-13.397333 31.331555-29.852445 0-16.426667-13.994667-29.795556-31.331555-29.866666z m-39.111111-343.281777c21.575111 0 39.111111-16.739556 39.111111-37.304889 0-20.579556-17.507556-37.319111-39.111111-37.319111-21.560889 0-39.125333 16.739556-39.125334 37.319111 0 20.593778 17.536 37.304889 39.139556 37.304889z m696.462222 59.704888c17.251556 0 31.288889-13.397333 31.288889-29.852444 0-16.426667-13.952-29.767111-31.288889-29.852444-17.265778 0-31.303111 13.397333-31.303111 29.852444 0 16.426667 13.980444 29.767111 31.288889 29.852444z m-242.631111 74.624c30.250667 0 54.812444-23.424 54.812444-52.238222s-24.561778-52.238222-54.769778-52.238222c-30.208 0-54.769778 23.424-54.769777 52.238222s24.561778 52.238222 54.755555 52.238222h-0.014222z m-226.872889-74.624c-26.026667 0.113778-47.032889 20.138667-46.976 44.771556-0.056889 24.661333 20.963556 44.686222 46.933333 44.8 25.912889 0 46.976-20.110222 46.976-44.8 0.056889-24.632889-20.949333-44.657778-46.961778-44.771556h0.028445zM821.902222 639.032889c-36.209778 0-65.635556 28.088889-65.635555 62.634667 0 34.56 29.454222 62.648889 65.635555 62.648888 36.224 0 65.678222-28.088889 65.678222-62.648888 0-34.545778-29.454222-62.634667-65.678222-62.634667z m-269.141333 57.528889c-17.28 0-31.331556 13.397333-31.331556 29.866666 0 16.412444 13.994667 29.752889 31.331556 29.838223 17.251556 0 31.288889-13.397333 31.288889-29.852445 0-16.426667-13.980444-29.795556-31.288889-29.852444z m62.606222-117.290667c17.351111 0.085333 31.331556 13.425778 31.288889 29.880889 0 16.426667-14.037333 29.866667-31.288889 29.866667-17.351111-0.099556-31.331556-13.44-31.303111-29.866667 0-16.483556 14.037333-29.866667 31.288889-29.866667z m146.275556 355.868445c-108.472889 0-184.177778-42.936889-189.312-45.980445-313.685333-191.701333-510.179556-4.465778-518.4 3.598222a32.455111 32.455111 0 0 1-44.231111 0.753778 28.885333 28.885333 0 0 1-0.896-42.126222c2.304-2.304 239.118222-231.438222 596.736-12.8 6.528 3.740444 177.692444 99.271111 368.654222-33.507556a32.384 32.384 0 0 1 23.296-5.390222 31.672889 31.672889 0 0 1 20.437333 11.904c10.168889 13.312 7.111111 31.985778-6.883555 41.713778-90.225778 62.72-177.066667 81.834667-249.400889 81.834667z" /><path d="M123.704889 365.383111h79.729778c44.785778 0 67.171556 19.114667 67.171555 57.344 0 38.499556-22.656 57.884444-67.441778 57.884445h-57.073777V560.355556H123.704889V365.383111z m22.385778 19.384889v76.458667h55.978666c15.843556 0 27.306667-3.271111 34.958223-9.557334 7.367111-6.272 11.192889-15.829333 11.192888-28.942222 0-13.098667-3.825778-22.656-11.477333-28.401778-7.637333-6.542222-19.114667-9.557333-34.673778-9.557333h-55.978666z m152.917333-19.384889V560.355556h22.385778V405.248h0.824889L389.660444 560.355556h20.209778l67.456-155.107556h0.810667V560.355556h22.4V365.383111h-27.861333l-72.362667 166.300445h-0.810667l-72.647111-166.300445h-27.847111z m305.834667-3.825778c-19.655111 0-35.768889 6.556444-47.786667 19.669334-12.017778 12.828444-18.289778 30.307556-18.289778 52.152889h22.385778c0.284444-17.208889 4.366222-30.307556 12.017778-39.054223 7.096889-9.272889 17.479111-13.653333 30.862222-13.653333 12.558222 0 22.656 3.271111 29.752889 9.841778 7.111111 6.542222 10.652444 15.559111 10.652444 27.576889 0 12.558222-5.191111 24.305778-15.018666 34.944-5.191111 5.461333-15.288889 13.383111-30.577778 24.32-20.764444 14.193778-34.688 25.927111-42.325333 34.673777-13.112889 14.464-19.399111 30.577778-19.399112 48.327112h129.991112v-19.939556h-102.4c3.555556-13.098667 17.749333-28.117333 42.595555-44.771556 20.195556-13.653333 33.578667-24.32 40.405333-31.402666 12.572444-13.653333 19.114667-28.956444 19.114667-45.880889s-6.001778-30.862222-17.464889-41.244445c-11.747556-10.368-26.496-15.559111-44.515555-15.559111z m115.228444 166.300445c-4.906667 0-8.732444 1.635556-11.733333 4.920889-3.271111 3.271111-4.920889 7.096889-4.920889 12.017777 0 4.636444 1.635556 8.462222 4.920889 11.733334 3.000889 3.271111 6.826667 4.920889 11.733333 4.920889 4.380444 0 8.476444-1.635556 11.747556-4.920889 3.271111-3.271111 4.920889-7.096889 4.920889-11.733334a16.071111 16.071111 0 0 0-4.920889-12.017777 16.327111 16.327111 0 0 0-11.747556-4.920889z m64.711111-162.474667l-10.368 107.591111h21.304889a38.684444 38.684444 0 0 1 17.479111-17.479111c7.367111-4.096 15.559111-6.001778 24.846222-6.001778 14.193778 0 25.386667 4.096 33.308445 12.828445 8.192 8.462222 12.558222 20.48 12.558222 36.053333 0 13.653333-4.636444 24.846222-13.368889 33.578667-9.016889 8.746667-20.209778 13.112889-33.863111 13.112889-12.017778 0-22.115556-3.000889-29.767111-8.746667-8.732444-6.542222-13.653333-16.099556-14.748444-28.387556h-22.115556c1.365333 17.749333 8.732444 31.943111 22.385778 42.325334 12.017778 9.272889 26.766222 13.923556 43.975111 13.923555 19.114667 0 35.498667-6.016 48.597333-17.749333 13.937778-12.558222 21.034667-28.672 21.034667-48.341333 0-21.020444-6.016-37.404444-17.493333-49.422223-11.463111-11.733333-26.481778-17.479111-45.041778-17.479111-9.016889 0-17.208889 1.365333-24.846222 4.650667a50.688 50.688 0 0 0-21.034667 14.748444h-1.095111l6.556444-65.28h95.032889v-19.911111H784.782222z" /></svg>
              PM2.5: {PM25}
            </div>
          </li>
          <li style={{ boxShadow: '1px 1px 10px white', height: '28vh', width: '28vh' }} className={`rounded-xl poppins p-4 m-2 ${gr[5]==1?'bg-green-400':gr[5]==2?'bg-yellow-400':gr[5]==3?'bg-red-400':'bg-white'}}`}>
            <div className='flex flex-col gap-4 mx-auto items-center justify-center'>
              <svg xmlns="http://www.w3.org/2000/svg" height="100px" width="100px" viewBox="0 0 1024 1024" version="1.1"><path d="M814.933333 349.866667C776.533333 217.6 652.8 128 512 128S247.466667 217.6 209.066667 349.866667C85.333333 379.733333 0 490.666667 0 618.666667 0 772.266667 123.733333 896 277.333333 896h469.333334c153.6 0 277.333333-123.733333 277.333333-277.333333 0-128-85.333333-238.933333-209.066667-268.8zM746.666667 810.666667h-469.333334C170.666667 810.666667 85.333333 725.333333 85.333333 618.666667c0-93.866667 68.266667-174.933333 162.133334-187.733334 17.066667-4.266667 29.866667-17.066667 34.133333-34.133333C307.2 290.133333 405.333333 213.333333 512 213.333333s204.8 76.8 230.4 183.466667c4.266667 17.066667 17.066667 29.866667 34.133333 34.133333 93.866667 12.8 162.133333 93.866667 162.133334 187.733334 0 106.666667-85.333333 192-192 192z" /><path d="M810.666667 695.466667h-29.866667l17.066667-12.8c12.8-8.533333 17.066667-25.6 21.333333-38.4 0-17.066667-4.266667-29.866667-17.066667-38.4-21.333333-21.333333-51.2-21.333333-72.533333-4.266667l-12.8 12.8c-8.533333 8.533333-8.533333 21.333333-4.266667 29.866667 8.533333 8.533333 21.333333 8.533333 29.866667 4.266666l12.8-12.8c4.266667-4.266667 8.533333-4.266667 12.8 0 4.266667 4.266667 4.266667 4.266667 4.266667 8.533334 0 0 0 4.266667-4.266667 8.533333l-64 51.2c-8.533333 4.266667-8.533333 17.066667-8.533333 25.6 4.266667 8.533333 12.8 12.8 21.333333 12.8H810.666667c12.8 0 21.333333-8.533333 21.333333-21.333333s-8.533333-25.6-21.333333-25.6zM328.533333 533.333333h85.333334c17.066667 0 34.133333-12.8 34.133333-34.133333s-17.066667-29.866667-34.133333-29.866667h-85.333334c-46.933333 0-81.066667 38.4-81.066666 81.066667s38.4 81.066667 81.066666 81.066667h34.133334c8.533333 0 17.066667 8.533333 17.066666 17.066666s-8.533333 17.066667-17.066666 17.066667h-85.333334c-17.066667 0-34.133333 12.8-34.133333 34.133333s12.8 34.133333 34.133333 34.133334h85.333334c46.933333 0 81.066667-38.4 81.066666-81.066667s-38.4-81.066667-81.066666-81.066667h-34.133334c-8.533333 0-17.066667-8.533333-17.066666-17.066666s4.266667-21.333333 17.066666-21.333334zM576 469.333333c-59.733333 0-110.933333 51.2-110.933333 110.933334v46.933333c0 59.733333 51.2 110.933333 110.933333 110.933333s110.933333-51.2 110.933333-110.933333v-46.933333c0-59.733333-51.2-110.933333-110.933333-110.933334z m46.933333 157.866667c0 25.6-21.333333 46.933333-46.933333 46.933333s-46.933333-21.333333-46.933333-46.933333v-46.933333c0-25.6 21.333333-46.933333 46.933333-46.933334s46.933333 21.333333 46.933333 46.933334v46.933333z" /></svg>
              SO2: {SO2}
            </div>
          </li>
        </div>
      </ul>
    </div>
  );
};

const WeatherStation = ({ station, aqires, res }) => {
  const {
    CO,
    NO2,
    OZONE,
    PM10,
    PM25,
    SO2,
    city,
    countryCode,
    division,
    lat,
    lng,
    placeName,
    postalCode,
    state,
    updatedAt,
    AQI,
    aqiInfo,
  } = station;

  return (
    <div className='flex w-full z-50 text-black gap-4'>
      <div style={{ boxShadow: '1px 1px 10px white' }} className='w-1/2 flex rounded-xl poppins p-4 bg-white'>
        <img src={map} width={250} className='flex mx-auto m-6'></img>
        <div className='flex flex-col my-auto px-8 w-full text-[2.5rem]'>
          <h2 className='flex flex-col'>
            <span className=' text-xl flex flex-col'>{city}, {state}<span className='italic text-sm'>live location</span></span>
          </h2>
          <br></br>
          <p>Time: {new Date().toLocaleString()}</p>
          <p>Locality: {placeName}, {division}, {countryCode}, {postalCode}</p>
          <p>Coordinates: {lat}, {lng}</p>
        </div>
      </div>

      <div style={{ boxShadow: '1px 1px 10px white' }} className='w-1/2 rounded-xl items-center justify-around flex flex-col poppins p-4 bg-white'>
        <p className='text-5xl text-center p-4'>AQI: {Math.round(aqires)} <p className='text-sm italic m-2'>(Air Quality Index)</p> </p>
        <div>
          <div className='mx-auto flex gap-8 justify-center items-center border p-6 border-black shadow-xl'>
            {aqiInfo.pollutant == 'PM10' ?
              <svg xmlns="http://www.w3.org/2000/svg" height="100px" width="100px" viewBox="0 0 1031 1024" version="1.1"><path d="M960 567.466667s-102.4 64-226.133333 64c-59.733333 0-115.2-21.333333-179.2-46.933334-64-25.6-140.8-55.466667-230.4-59.733333-183.466667-12.8-298.666667 89.6-302.933334 93.866667-17.066667 17.066667-17.066667 42.666667-4.266666 59.733333 17.066667 17.066667 42.666667 17.066667 59.733333 4.266667 0 0 93.866667-81.066667 243.2-72.533334 76.8 4.266667 145.066667 29.866667 204.8 55.466667 68.266667 25.6 136.533333 51.2 213.333333 51.2 149.333333 0 268.8-72.533333 273.066667-76.8 21.333333-12.8 25.6-38.4 12.8-59.733333-17.066667-17.066667-46.933333-25.6-64-12.8zM247.466667 482.133333c59.733333 0 106.666667-46.933333 106.666666-106.666666S307.2 268.8 247.466667 268.8 140.8 315.733333 140.8 375.466667s46.933333 106.666667 106.666667 106.666666z m0-149.333333c25.6 0 42.666667 17.066667 42.666666 42.666667s-17.066667 42.666667-42.666666 42.666666-42.666667-17.066667-42.666667-42.666666 21.333333-42.666667 42.666667-42.666667zM72.533333 290.133333c42.666667 0 76.8-34.133333 76.8-76.8s-34.133333-72.533333-76.8-72.533333C34.133333 140.8 0 174.933333 0 213.333333c0 42.666667 34.133333 76.8 72.533333 76.8z m0-106.666666c17.066667 0 34.133333 12.8 34.133334 29.866666 0 17.066667-12.8 34.133333-34.133334 34.133334-17.066667 0-29.866667-17.066667-29.866666-34.133334s12.8-29.866667 29.866666-29.866666zM375.466667 226.133333c51.2 0 89.6-42.666667 89.6-93.866666S426.666667 42.666667 375.466667 42.666667 285.866667 85.333333 285.866667 132.266667s38.4 93.866667 89.6 93.866666z m0-119.466666c17.066667 0 25.6 12.8 25.6 25.6s-8.533333 29.866667-25.6 29.866666-25.6-12.8-25.6-29.866666 12.8-25.6 25.6-25.6zM546.133333 473.6c42.666667 0 76.8-34.133333 76.8-76.8s-34.133333-76.8-76.8-76.8-72.533333 34.133333-72.533333 76.8 29.866667 76.8 72.533333 76.8z m0-106.666667c17.066667 0 34.133333 12.8 34.133334 34.133334s-12.8 34.133333-34.133334 34.133333c-17.066667 0-29.866667-12.8-29.866666-34.133333s12.8-34.133333 29.866666-34.133334zM699.733333 290.133333c51.2 0 93.866667-42.666667 93.866667-93.866666s-42.666667-93.866667-93.866667-93.866667-98.133333 42.666667-98.133333 93.866667 46.933333 93.866667 98.133333 93.866666z m0-128c17.066667 0 34.133333 12.8 34.133334 34.133334s-12.8 34.133333-34.133334 34.133333c-17.066667 0-34.133333-12.8-34.133333-34.133333s17.066667-34.133333 34.133333-34.133334z" /><path d="M682.666667 490.666667c0 51.2 42.666667 93.866667 98.133333 93.866666s93.866667-42.666667 93.866667-93.866666-42.666667-93.866667-93.866667-93.866667-98.133333 38.4-98.133333 93.866667z m128 0c0 17.066667-12.8 34.133333-34.133334 34.133333s-34.133333-12.8-34.133333-34.133333 12.8-34.133333 34.133333-34.133334 34.133333 17.066667 34.133334 34.133334zM960 337.066667c34.133333 0 64-29.866667 64-64s-29.866667-64-64-64-64 29.866667-64 64 29.866667 64 64 64z m0-85.333334c12.8 0 21.333333 8.533333 21.333333 21.333334s-8.533333 21.333333-21.333333 21.333333-21.333333-8.533333-21.333333-21.333333 8.533333-21.333333 21.333333-21.333334zM209.066667 725.333333H136.533333c-17.066667 0-34.133333 12.8-34.133333 34.133334v192c0 17.066667 12.8 34.133333 34.133333 34.133333s34.133333-12.8 34.133334-34.133333V896h42.666666c46.933333 0 85.333333-38.4 85.333334-85.333333s-42.666667-85.333333-89.6-85.333334z m0 102.4h-42.666667v-38.4h42.666667c12.8 0 21.333333 8.533333 21.333333 21.333334s-8.533333 17.066667-21.333333 17.066666zM512 725.333333c-12.8-4.266667-25.6 4.266667-34.133333 17.066667l-42.666667 89.6-42.666667-89.6c-4.266667-12.8-17.066667-17.066667-29.866666-17.066667-12.8 0-25.6 12.8-25.6 25.6L298.666667 942.933333c-4.266667 17.066667 8.533333 34.133333 25.6 38.4 17.066667 4.266667 34.133333-8.533333 38.4-25.6l17.066666-93.866666 29.866667 59.733333c8.533333 21.333333 46.933333 21.333333 59.733333 0l29.866667-59.733333 17.066667 93.866666c4.266667 17.066667 17.066667 25.6 29.866666 25.6h4.266667c17.066667-4.266667 29.866667-21.333333 25.6-38.4l-34.133333-192c-4.266667-12.8-17.066667-21.333333-29.866667-25.6zM836.266667 725.333333c-46.933333 0-85.333333 38.4-85.333334 85.333334v85.333333c0 46.933333 38.4 85.333333 85.333334 85.333333s85.333333-38.4 85.333333-85.333333v-85.333333c0-46.933333-38.4-85.333333-85.333333-85.333334z m21.333333 170.666667c0 12.8-8.533333 21.333333-21.333333 21.333333s-21.333333-8.533333-21.333334-21.333333v-85.333333c0-12.8 8.533333-21.333333 21.333334-21.333334s21.333333 8.533333 21.333333 21.333334v85.333333zM699.733333 729.6c-12.8-4.266667-25.6-4.266667-34.133333 4.266667l-64 59.733333c-12.8 12.8-12.8 34.133333 0 46.933333 12.8 12.8 34.133333 12.8 46.933333 0l8.533334-8.533333v119.466667c0 17.066667 12.8 34.133333 34.133333 34.133333 17.066667 0 34.133333-12.8 34.133333-34.133333v-192c-8.533333-12.8-17.066667-25.6-25.6-29.866667z" /></svg>
              :
              aqiInfo.pollutant == 'O3' ?
                <svg xmlns="http://www.w3.org/2000/svg" height="100px" width="100px" viewBox="0 0 1025 1024" version="1.1"><path d="M425.150097 509.514245c-23.52765 0-60.782237-5.038056-92.456161-31.858205-26.52837-22.463936-29.235263-48.148705-26.834482-65.740438 2.470398-18.095436 10.77024-30.92144 11.708029-32.324029l25.531202 17.073697 0.060403-0.090093c-2.127429 3.284309-19.942348 32.809304 9.384032 57.642282 38.590629 32.677235 89.609009 23.415034 90.119879 23.31675 8.328508-1.587894 16.372403 3.878105 17.960296 12.209684 1.588918 8.331579-3.878105 16.372403-12.209684 17.96132C447.446131 507.888471 438.509494 509.514245 425.150097 509.514245z" /><path d="M713.534529 242.059092c-5.018604-0.620415-8.571145-5.499784-8.274247-10.954521 0.13514-2.474493 0.205781-4.964343 0.205781-7.470574 0-84.846352-73.9594-153.629485-165.192136-153.629485-2.731464 0-5.4445 0.068594-8.143202 0.191448-1.00024-0.119783-1.990242-0.180187-2.968982-0.180187-2.05986 0-4.071601 0.267208-6.032153 0.810839-83.177579 7.977349-148.048822 73.345128-148.048822 152.807384 0 7.914898 0.663414 15.68237 1.917553 23.27068 0.91117 5.516165-2.330139 10.887975-7.416313 11.95169-95.737399 20.030394-165.869883 84.790044-165.869883 161.637547 0 92.825748 102.29885 168.078192 228.490842 168.078192 0.048118 0 0.096236 0 0.145378 0l0.006143 0c6.856302 0 11.523747 7.410171 8.964279 14.292067-67.127669 180.512085-197.332907 280.077424-293.176779 331.465391-9.479244 5.082079-5.294003 19.665925 3.994817 19.665925 0.898885 0 1.845888-0.136164 2.832819-0.432038 136.307008-40.745701 240.272583-103.300114 319.39187-172.669877 4.833299-4.237455 9.56729-8.502551 14.212212-12.789148 4.770848-4.403308 6.799994-11.084542 5.177291-17.370595-3.688705-14.291043-5.599091-29.234239-5.599091-44.491738 0-0.935741 0.00819-1.869435 0.023547-2.802105 0.040951-2.452994-2.951578-3.662086-4.657207-1.898101-13.70339 14.167165-28.004671 27.79889-42.903844 40.861389-8.067442 7.073345-16.29869 13.969574-24.701934 20.695855 28.168477-41.306736 53.350567-88.518676 73.38608-142.393422 7.111225-19.123318 4.432998-40.504087-7.166509-57.193864-11.372227-16.362165-29.98058-26.131141-49.782669-26.131141l-0.145378 0c-25.683746 0-50.490106-3.666181-73.731096-10.897189-21.764689-6.772351-41.112217-16.319166-57.504071-28.37733-17.204741-12.656056-46.066322-39.567322-46.066322-77.61432 0-29.074528 17.011246-51.495465 31.28079-65.184522 22.959448-22.024731 56.301121-38.485179 93.881273-46.347864 32.016892-6.697615 52.855054-37.621103 47.439221-70.40174-0.818006-4.951034-1.23264-9.97271-1.23264-14.925791 0-24.815574 10.043351-48.773215 28.279046-67.458353 18.988178-19.456049 45.079391-31.670852 73.467983-34.393102l3.094908-0.573321 3.33857 0.122854c2.024027-0.092141 3.983555-0.138211 5.823301-0.138211 62.861549 0 114.002783 45.954729 114.002783 102.440132 0 1.525443-0.042999 3.100027-0.130021 4.683826-1.760914 32.294339 21.567098 60.646074 53.108953 64.543631 42.963224 5.310383 72.872139 14.833651 91.434422 29.114456 12.549582 9.655336 26.955289 26.006239 26.955289 67.087742 0 19.681282-3.276119 36.109993-9.736215 48.8285-5.368739 10.569578-13.178187 19.074177-23.87369 26.000096-23.494889 15.214499-60.411626 22.928735-109.726425 22.928735-4.090029 0-8.338746-0.138211-12.642746-0.412586-1.269496-0.080879-2.556396-0.121831-3.824868-0.121831-23.079232 0-43.866204 12.932478-54.249452 33.753235-2.948507 5.913394-5.969702 11.774575-9.061539 17.58559-2.685393 5.04727 1.652392 10.923808 7.281174 9.924592 7.611857-1.351399 15.379329-2.042455 23.250204-2.042455 5.832515 0 11.607698 0.379825 17.30712 1.124118 2.889127 0.377777 5.70966-1.096476 7.00987-3.704062 0.007167-0.014333 0.015357-0.02969 0.022523-0.044023 1.687201-3.382592 4.920321-5.405596 8.4401-5.405596 0.19452 0 0.390063 0.006143 0.58663 0.018428 5.237695 0.333755 10.531697 0.514965 15.882009 0.514965 107.434166 0 194.525683-33.420505 194.525683-148.947707C876.834706 286.535473 806.11764 253.500936 713.534529 242.059092z" /><path d="M831.374466 715.798122c8.206677 6.694544 12.311039 15.8472 12.311039 27.464111 0 14.773247-7.514597 24.622079-22.539696 29.546494 8.206677 2.52773 14.329947 6.187769 18.371859 10.985235 4.545615 5.051365 6.818422 11.618959 6.818422 19.697663 0 12.50044-4.356214 22.728073-13.069666 30.683922-9.218179 8.209748-21.150417 12.311039-35.797738 12.311039-14.014621 0-25.31723-3.598611-33.902708-10.795834-9.47003-7.954825-14.774271-19.570713-15.909651-34.850735l22.539696 0c0.377777 8.840401 3.154288 15.596372 8.333627 20.265865 4.797466 4.421736 11.047686 6.630045 18.75066 6.630045 8.458529 0 15.214499-2.397709 20.266888-7.197223 4.417641-4.418665 6.629021-9.784333 6.629021-16.100075 0-7.699902-2.337306-13.381921-7.007822-17.046054-4.421736-3.661062-11.050757-5.492618-19.888087-5.492618l-9.47003 0 0-16.667253 9.47003 0c7.955849 0 14.015645-1.704605 18.183482-5.113816 4.03884-3.409211 6.060819-8.458529 6.060819-15.152048 0-6.564523-1.831555-11.554461-5.492618-14.963672-3.914962-3.409211-9.787404-5.113816-17.614256-5.113816-7.955849 0-14.081167 1.959528-18.371859 5.871419-4.545615 3.914962-7.197223 9.976805-7.955849 18.182458l-21.78107 0c1.136404-13.760722 6.184698-24.368179 15.152048-31.820325 8.33465-7.449075 19.255387-11.174636 32.767328-11.174636C812.117032 705.949291 823.164718 709.233599 831.374466 715.798122z" /><path d="M625.838977 844.857742c-31.644234 0-61.196871-14.896102-83.216483-41.944556-21.269176-26.128069-32.983347-60.679859-32.983347-97.290484s11.713148-71.162414 32.983347-97.290484c22.019612-27.048454 51.572249-41.944556 83.216483-41.944556 31.64321 0 61.196871 14.896102 83.215459 41.944556 21.2702 26.128069 32.984371 60.679859 32.984371 97.290484s-11.713148 71.16139-32.984371 97.290484C687.035849 829.96164 657.482188 844.857742 625.838977 844.857742zM625.838977 597.101275c-47.137203 0-85.486219 48.682098-85.486219 108.521428s38.349015 108.521428 85.486219 108.521428 85.486219-48.682098 85.486219-108.521428S672.976181 597.101275 625.838977 597.101275z" /></svg>
                : ""
            }
            <p className='text-center text-3xl p-4'>{aqiInfo.pollutant} <p className='text-lg'>Concentration: {aqiInfo.concentration}</p></p>
          </div>
          <p className='text-center my-4 italic'>(Most concentrated gas present in the environment)</p>
        </div>
      </div>
    </div>
  );
};

let CheckupScreen = () => {
  const [data, setData] = useState("");
  const [aqires, setAqires] = useState("");
  const [res, setRes] = useState("");
  const [btn, setBtn] = useState(false)
  const [gasRise, setGasRise] = useState("")

  function handleBtn() {
    setBtn(true)
    console.log(btn)
  }
  function handleBtnB() {
    setBtn(false)
    console.log(btn)
  }
  let history = useHistory();

  useEffect(() => {
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(function (position) {
        const latitude = position.coords.latitude;
        const longitude = position.coords.longitude;
        console.log(`Latitude: ${latitude}, Longitude: ${longitude}`);
        let config = {
          method: 'get',
          maxBodyLength: Infinity,
          url: `https://api.ambeedata.com/latest/by-lat-lng?lat=${latitude}&lng=${longitude}`,
          headers: {
            'Content-Type': 'application/json',
            'x-api-key': '7aa062eca6b9accd0a9937b89da07172137ea0189d84619cdab84ad494d152d1'
          }
        };
        fetchData(config)
      });
    } else {
      console.log("Geolocation is not supported by this browser.");
    }
    let fetchData = async (config) => {
      try {
        const response = await axios.request(config);
        console.log(JSON.stringify(response.data));
        setData(response.data);
      } catch (error) {
        console.error('Error fetching data:', error);
      }
    };
  }, []);


  // console.log(data.stations[0])
  let predPrediction = { pm2: data && data.stations[0].PM25, pm10: data && data.stations[0].PM10, no2: data && data.stations[0].NO2, so2: data && data.stations[0].SO2, co: data && data.stations[0].CO, ozone: data && data.stations[0].OZONE }
  useEffect(() => {
    axios.post("http://127.0.0.1:5000/predict", predPrediction)
      .then((response) => {
        console.log(response.data.result);
        setRes(response.data.result);
      })
      .catch((error) => {
        console.log(error);
      });
  })
  let state = data && data.stations[0].state;
  state = state.replace(/ /g, '_');

  let aqiPrediction = { state: state, city: data && data.stations[0].city, pm2: data && data.stations[0].PM25, pm10: data && data.stations[0].PM10, no2: data && data.stations[0].NO2, so2: data && data.stations[0].SO2, co: data && data.stations[0].CO, ozone: data && data.stations[0].OZONE }
  useEffect(() => {
    axios.post("http://127.0.0.1:5000/aqi", aqiPrediction)
      .then((response) => {
        console.log(response.data.result);
        setAqires(response.data.result);
      })
      .catch((error) => {
        console.log(error);
      });
  })
  console.log(btn)
  console.log(data)
  let state_gas_con = {'state': state, 'PM2.5': data && data.stations[0].PM25, 'PM10': data && data.stations[0].PM10, 'NO2': data && data.stations[0].NO2, 'SO2': data && data.stations[0].SO2, 'CO': data && data.stations[0].CO, 'OZONE': data && data.stations[0].OZONE  }
  useEffect(()=>{
    axios.post("http://127.0.0.1:5000/gasLevels", state_gas_con)
    .then((response) => {
      console.log(response.data.result);
      setGasRise(response.data.result);
    })
    .catch((error) => {
      console.log(error);
    });
}, [data])

  return (
    <section className="my-auto py-52 px-20 flex justify-center overflow-y-scroll">
      {/* heading  */}
      <div className="flex flex-col w-full">
        <div className='flex flex-col w-full mx-auto justify-center items-center text-white'>
          {(data) ? data.stations.map((station, index) => (
            !btn ?
              <WeatherStation key={index} station={station} aqires={aqires} res={res} />
              : ""
          ))
            :
            <GridLoader color='#fff'></GridLoader>
          }
          {btn ?
            <Gasses station={data && data.stations} aqires={aqires} res={res} gasRise={gasRise}/>
            :
            ''
          }
        </div>
        {!btn ? <div className='flex mx-auto m-8'><button type='button' className='btn-7' onClick={(e) => handleBtn()}><span>Pollutant Analysis</span></button></div> : ""}
        {btn ? <div className='flex mx-auto'><button type='button' className='btn-7' onClick={(e) => handleBtnB()}><span>Go Back</span></button></div> : ""}
      </div>
    </section>
  )
}

export default CheckupScreen